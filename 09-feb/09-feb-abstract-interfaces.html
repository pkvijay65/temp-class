<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9th Feb: Abstract Classes & Interfaces</title>
    <style>
        :root {
            --bg-primary: #1a1a2e;
            --bg-secondary: #16213e;
            --bg-code: #0f0f23;
            --bg-table-header: #2d2d44;
            --text-primary: #eee;
            --text-secondary: #888;
            --border-color: #444;
            --hidden-cell-bg: #3d3d5c;
            --hidden-cell-hover: #4d4d6c;
            --quiz-bg: #2d132c;
            --quiz-option-bg: #1a1a2e;
            --quiz-option-hover: #3d3d5c;
            --discuss-bg: #1e3a5f;
            --gotcha-bg: #3d1a1a;
            --key-point-bg: #1a3d1a;
            --comparison-bg: #0f0f23;
            --nav-bg: #333;
            --nav-hover: #555;
        }

        body.light-theme {
            --bg-primary: #f0f2f5;
            --bg-secondary: #ffffff;
            --bg-code: #2d2d2d;
            --bg-table-header: #e8e8e8;
            --text-primary: #1a1a1a;
            --text-secondary: #555;
            --border-color: #d0d0d0;
            --hidden-cell-bg: #d8d8d8;
            --hidden-cell-hover: #c8c8c8;
            --quiz-bg: #fce4ec;
            --quiz-option-bg: #fff;
            --quiz-option-hover: #f5f5f5;
            --discuss-bg: #e3f2fd;
            --gotcha-bg: #ffebee;
            --key-point-bg: #e8f5e9;
            --comparison-bg: #f5f5f5;
            --nav-bg: #e0e0e0;
            --nav-hover: #d0d0d0;
            --code-text: #e0e0e0;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg-primary); color: var(--text-primary); padding: 20px; line-height: 1.6; transition: background 0.3s, color 0.3s; }
        .container { max-width: 1200px; margin: 0 auto; }
        h1 { color: #00d4ff; text-align: center; margin-bottom: 10px; font-size: 2.2em; }
        h2 { color: #ff6b6b; margin: 20px 0 10px; border-bottom: 2px solid #ff6b6b; padding-bottom: 5px; }
        h3 { color: #ffd93d; margin: 15px 0 8px; }
        .subtitle { text-align: center; color: var(--text-secondary); margin-bottom: 30px; }
        .section { background: var(--bg-secondary); border-radius: 10px; padding: 20px; margin: 15px 0; display: none; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .section.visible { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        pre { background: var(--bg-code); padding: 15px; border-radius: 8px; overflow-x: auto; font-size: 0.95em; border-left: 4px solid #00d4ff; }
        code { font-family: 'Fira Code', 'Consolas', monospace; }
        :not(pre) > code { background: #2d2d44; color: #f8f8f2; padding: 2px 6px; border-radius: 4px; font-size: 0.9em; }
        .keyword { color: #ff79c6; }
        .type { color: #8be9fd; }
        .string { color: #f1fa8c; }
        .comment { color: #6272a4; }
        .annotation { color: #50fa7b; }
        body.light-theme pre { background: #1e1e1e; color: #d4d4d4; }
        body.light-theme .keyword { color: #c586c0; }
        body.light-theme .type { color: #4ec9b0; }
        body.light-theme .string { color: #ce9178; }
        body.light-theme .comment { color: #6a9955; }
        body.light-theme .annotation { color: #dcdcaa; }
        body.light-theme code { color: #d4d4d4; }
        body.light-theme h1 { color: #0077b6; }
        body.light-theme h2 { color: #c9184a; border-color: #c9184a; }
        body.light-theme h3 { color: #b45309; }
        body.light-theme th { color: #0077b6; }
        body.light-theme .quiz-q { color: #c9184a; }
        body.light-theme .gotcha-title { color: #c9184a; }
        body.light-theme .gotcha { border-color: #c9184a; }
        body.light-theme .quiz { border-color: #c9184a; }
        body.light-theme .key-point { border-color: #2e7d32; }
        body.light-theme .discuss { border-color: #b45309; background: #fff3e0; }
        body.light-theme .hidden-cell.revealed.yes { color: #2e7d32; font-weight: bold; }
        body.light-theme .hidden-cell.revealed.no { color: #c9184a; font-weight: bold; }
        body.light-theme .correct { background: #c8e6c9; color: #1b5e20; }
        body.light-theme .incorrect { background: #ffcdd2; color: #b71c1c; }
        body.light-theme .gotcha-answer { background: rgba(0,0,0,0.05); }
        body.light-theme .highlight { background: #fff59d; }
        body.light-theme :not(pre) > code { background: #1e1e1e; color: #f8f8f2; }
        .quiz { background: var(--quiz-bg); border: 2px solid #ff6b6b; padding: 15px; border-radius: 8px; margin: 15px 0; }
        .quiz-q { font-weight: bold; color: #ff6b6b; margin-bottom: 10px; }
        .quiz-options { margin: 10px 0; }
        .quiz-options label { display: block; padding: 8px 15px; margin: 5px 0; background: var(--quiz-option-bg); border-radius: 5px; cursor: pointer; transition: 0.3s; }
        .quiz-options label:hover { background: var(--quiz-option-hover); }
        .quiz-answer { display: none; padding: 10px; margin-top: 10px; border-radius: 5px; }
        .correct { background: #1b4332; color: #95d5b2; }
        .incorrect { background: #5c1a1a; color: #f8d7da; }
        .reveal-btn { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 12px 30px; font-size: 1.1em; border-radius: 25px; cursor: pointer; margin: 20px auto; display: block; transition: transform 0.3s; }
        .reveal-btn:hover { transform: scale(1.05); }
        .discuss { background: var(--discuss-bg); border-left: 4px solid #ffd93d; padding: 12px; margin: 10px 0; border-radius: 0 8px 8px 0; font-style: italic; }
        .gotcha { background: var(--gotcha-bg); border: 2px dashed #ff6b6b; padding: 15px; border-radius: 8px; margin: 15px 0; }
        .gotcha-title { color: #ff6b6b; font-weight: bold; margin-bottom: 8px; }
        .gotcha-answer { display: none; margin-top: 10px; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 5px; }
        .gotcha-answer.revealed { display: block; animation: fadeIn 0.3s; }
        .gotcha-reveal-btn { background: #ff6b6b; color: white; border: none; padding: 6px 14px; border-radius: 4px; cursor: pointer; margin-top: 10px; font-size: 0.9em; }
        .gotcha-reveal-btn:hover { background: #ff5252; }
        .gotcha-reveal-btn.revealed { background: #6c757d; }
        .gotcha-reveal-btn.revealed:hover { background: #5a6268; }
        .key-point { background: var(--key-point-bg); padding: 10px 15px; border-radius: 8px; margin: 10px 0; border-left: 4px solid #50fa7b; }
        .comparison { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 15px 0; }
        .comparison > div { background: var(--comparison-bg); padding: 15px; border-radius: 8px; }
        .vs { color: #ff6b6b; font-weight: bold; }
        .progress { position: fixed; top: 0; left: 0; height: 4px; background: #00d4ff; transition: width 0.3s; z-index: 1000; }
        .nav { position: fixed; bottom: 20px; right: 20px; display: flex; gap: 10px; }
        .nav button { background: var(--nav-bg); color: var(--text-primary); border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer; }
        .nav button:hover { background: var(--nav-hover); }
        table { width: 100%; border-collapse: collapse; margin: 15px 0; }
        th, td { border: 1px solid var(--border-color); padding: 10px; text-align: left; }
        th { background: var(--bg-table-header); color: #00d4ff; }
        .highlight { background: #ffd93d; color: #000; padding: 2px 6px; border-radius: 3px; }
        .theme-toggle { position: fixed; top: 15px; right: 20px; background: var(--nav-bg); border: none; padding: 8px 12px; border-radius: 20px; cursor: pointer; font-size: 1.2em; z-index: 1001; }
        .theme-toggle:hover { background: var(--nav-hover); }
        .hidden-cell {
            background: var(--hidden-cell-bg);
            cursor: pointer;
            text-align: center;
            transition: all 0.3s;
            user-select: none;
        }
        .hidden-cell::before { content: "?"; color: var(--text-secondary); font-weight: bold; }
        .hidden-cell.revealed { background: transparent; cursor: default; }
        .hidden-cell.revealed::before { content: none; }
        .hidden-cell.revealed.yes { color: #50fa7b; font-weight: bold; }
        .hidden-cell.revealed.no { color: #ff6b6b; font-weight: bold; }
        .clickable-row { cursor: pointer; transition: background 0.2s; }
        .clickable-row:hover { background: var(--hidden-cell-hover); }
        .clickable-row.revealed { cursor: default; }
        .clickable-row.revealed:hover { background: transparent; }
        .table-reset-btn { background: var(--nav-bg); color: var(--text-primary); border: none; padding: 5px 12px; border-radius: 4px; cursor: pointer; font-size: 0.85em; margin-top: 8px; }
        .table-reset-btn:hover { background: var(--nav-hover); }
        .hideable { margin: 15px 0; }
        .hideable-content { display: none; margin-top: 10px; padding: 12px; background: var(--key-point-bg); border-radius: 8px; border-left: 4px solid #50fa7b; }
        .hideable-content.revealed { display: block; animation: fadeIn 0.3s; }
        .hideable-content ul { margin: 0; padding-left: 20px; }
        .hideable-content li { margin: 5px 0; }
        .hideable-btn { background: #50fa7b; color: #000; border: none; padding: 6px 14px; border-radius: 4px; cursor: pointer; font-size: 0.9em; font-weight: 500; }
        .hideable-btn:hover { background: #3dd668; }
        .hideable-btn.revealed { display: none; }
        body.light-theme .hideable-btn { background: #2e7d32; color: white; }
        body.light-theme .hideable-btn:hover { background: #1b5e20; }
        body.light-theme .hideable-content { border-color: #2e7d32; }
        .topic-divider { background: linear-gradient(90deg, #ff6b6b, #ffd93d, #50fa7b); height: 4px; margin: 40px 0; border-radius: 2px; }
    </style>
</head>
<body class="light-theme">
    <div class="progress" id="progress"></div>
    <button class="theme-toggle" onclick="toggleTheme()" title="Toggle Light/Dark Theme">ðŸŒ“</button>
    <div class="container">
        <h1>9th Feb: Abstract Classes & Interfaces</h1>
        <p class="subtitle">Backend LLD | Building on Inheritance & Polymorphism</p>

        <!-- Section 1: Quick Recap -->
        <div class="section visible" id="s1">
            <h2>Quick Recap: OOP-3</h2>
            <div class="discuss">What do you remember about Inheritance and Polymorphism? (Click each row to reveal)</div>
            <table id="recap-table">
                <tr><th>Concept</th><th>Key Point</th></tr>
                <tr class="clickable-row" onclick="revealRow(this)"><td>Inheritance</td><td class="hidden-cell" data-value="extends keyword, IS-A relationship, code reuse"></td></tr>
                <tr class="clickable-row" onclick="revealRow(this)"><td>super()</td><td class="hidden-cell" data-value="Calls parent constructor, MUST be first line"></td></tr>
                <tr class="clickable-row" onclick="revealRow(this)"><td>Overloading</td><td class="hidden-cell" data-value="Same name, different parameters (compile-time)"></td></tr>
                <tr class="clickable-row" onclick="revealRow(this)"><td>Overriding</td><td class="hidden-cell" data-value="Same signature in child class (runtime)"></td></tr>
            </table>
            <button class="table-reset-btn" onclick="resetTable('recap-table')">Reset Table</button>
            <div class="key-point">
                <strong>Today's Question:</strong> What if we want to define a <span class="highlight">contract</span> without implementation? Or share code but prevent direct instantiation?
            </div>
        </div>

        <!-- ==================== ABSTRACT CLASSES ==================== -->

        <!-- Section 2: The Problem - Why Abstract Classes? -->
        <div class="section" id="s2">
            <h2>Part 1: Abstract Classes</h2>
            <h3>The Problem: Incomplete Parent Classes</h3>
            <div class="discuss">You're building a payment system with different payment types...</div>
            <pre><code><span class="keyword">class</span> <span class="type">Payment</span> {
    <span class="keyword">protected double</span> amount;

    <span class="keyword">public void</span> process() {
        <span class="comment">// What goes here? Every payment type is different!</span>
        <span class="comment">// CreditCard: charge the card</span>
        <span class="comment">// UPI: initiate UPI transfer</span>
        <span class="comment">// NetBanking: redirect to bank</span>
    }
}

<span class="keyword">class</span> <span class="type">CreditCardPayment</span> <span class="keyword">extends</span> <span class="type">Payment</span> { ... }
<span class="keyword">class</span> <span class="type">UPIPayment</span> <span class="keyword">extends</span> <span class="type">Payment</span> { ... }</code></pre>

            <div class="quiz">
                <div class="quiz-q">What's the problem with this Payment class?</div>
                <div class="quiz-options">
                    <label><input type="radio" name="q1" value="a" onclick="checkQuiz(this, false)"> Nothing, it works fine</label>
                    <label><input type="radio" name="q1" value="b" onclick="checkQuiz(this, true)"> The process() method has no meaningful default implementation</label>
                    <label><input type="radio" name="q1" value="c" onclick="checkQuiz(this, false)"> Payment should be an interface</label>
                </div>
                <div class="quiz-answer"></div>
            </div>

            <div class="hideable">
                <button class="hideable-btn" onclick="revealHideable(this)">Reveal Problems</button>
                <div class="hideable-content">
                    <strong>Problems with concrete Payment class:</strong>
                    <ul>
                        <li><strong>No sensible default:</strong> process() can't do anything meaningful - it depends on the payment type</li>
                        <li><strong>Someone can instantiate Payment:</strong> <code>new Payment(100)</code> - but what does that even mean?</li>
                        <li><strong>Child might forget to override:</strong> If CreditCardPayment forgets to override process(), silent bug!</li>
                        <li><strong>False abstraction:</strong> Payment isn't a real thing - it's a concept that only makes sense as a specific type</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Section 3: Abstract Class Solution -->
        <div class="section" id="s3">
            <h2>The Solution: Abstract Classes</h2>
            <div class="discuss">Java provides a way to say "this class is incomplete - don't instantiate it"</div>

            <pre><code><span class="keyword">abstract class</span> <span class="type">Payment</span> {
    <span class="keyword">protected double</span> amount;

    <span class="keyword">public</span> Payment(<span class="keyword">double</span> amount) {
        <span class="keyword">this</span>.amount = amount;
    }

    <span class="comment">// Abstract method - NO body, just signature</span>
    <span class="keyword">public abstract void</span> process();

    <span class="comment">// Concrete method - HAS implementation</span>
    <span class="keyword">public void</span> printReceipt() {
        System.out.println(<span class="string">"Payment of $"</span> + amount + <span class="string">" completed"</span>);
    }
}

<span class="keyword">class</span> <span class="type">CreditCardPayment</span> <span class="keyword">extends</span> <span class="type">Payment</span> {
    <span class="keyword">private</span> <span class="type">String</span> cardNumber;

    <span class="keyword">public</span> CreditCardPayment(<span class="keyword">double</span> amount, <span class="type">String</span> cardNumber) {
        <span class="keyword">super</span>(amount);
        <span class="keyword">this</span>.cardNumber = cardNumber;
    }

    <span class="annotation">@Override</span>
    <span class="keyword">public void</span> process() {
        System.out.println(<span class="string">"Charging card "</span> + cardNumber + <span class="string">" for $"</span> + amount);
    }
}</code></pre>

            <div class="key-point">
                <strong>Abstract Class = </strong> A class that <em>cannot be instantiated</em> and may contain <em>abstract methods</em> (methods without body)
            </div>

            <div class="quiz">
                <div class="quiz-q">What happens if you try: <code>Payment p = new Payment(100);</code>?</div>
                <div class="quiz-options">
                    <label><input type="radio" name="q2" value="a" onclick="checkQuiz(this, false)"> Creates a Payment object</label>
                    <label><input type="radio" name="q2" value="b" onclick="checkQuiz(this, true)"> Compilation error - cannot instantiate abstract class</label>
                    <label><input type="radio" name="q2" value="c" onclick="checkQuiz(this, false)"> Runtime error</label>
                </div>
                <div class="quiz-answer"></div>
            </div>
        </div>

        <!-- Section 4: Abstract Class Rules -->
        <div class="section" id="s4">
            <h2>Abstract Class Rules</h2>

            <h3>Rule 1: Abstract methods have no body</h3>
            <pre><code><span class="keyword">abstract void</span> process();  <span class="comment">// Correct - ends with semicolon</span>
<span class="keyword">abstract void</span> process() { }  <span class="comment">// ERROR! Abstract methods can't have body</span></code></pre>

            <h3>Rule 2: If a class has abstract method, class MUST be abstract</h3>
            <pre><code><span class="keyword">class</span> <span class="type">Payment</span> {  <span class="comment">// ERROR! Non-abstract class with abstract method</span>
    <span class="keyword">abstract void</span> process();
}</code></pre>

            <h3>Rule 3: Abstract class CAN have concrete methods</h3>
            <pre><code><span class="keyword">abstract class</span> <span class="type">Payment</span> {
    <span class="keyword">abstract void</span> process();      <span class="comment">// Abstract - child MUST implement</span>

    <span class="keyword">void</span> printReceipt() {         <span class="comment">// Concrete - child inherits as-is</span>
        System.out.println(<span class="string">"Receipt printed"</span>);
    }
}</code></pre>

            <h3>Rule 4: Abstract class CAN have constructors</h3>
            <div class="quiz">
                <div class="quiz-q">Why would an abstract class need a constructor if it can't be instantiated?</div>
                <div class="quiz-options">
                    <label><input type="radio" name="q3" value="a" onclick="checkQuiz(this, false)"> It doesn't - abstract classes can't have constructors</label>
                    <label><input type="radio" name="q3" value="b" onclick="checkQuiz(this, true)"> To initialize fields when child class calls super()</label>
                    <label><input type="radio" name="q3" value="c" onclick="checkQuiz(this, false)"> For factory methods</label>
                </div>
                <div class="quiz-answer"></div>
            </div>

            <div class="hideable">
                <button class="hideable-btn" onclick="revealHideable(this)">Reveal Explanation</button>
                <div class="hideable-content">
                    <pre><code><span class="keyword">abstract class</span> <span class="type">Payment</span> {
    <span class="keyword">protected double</span> amount;

    <span class="keyword">public</span> Payment(<span class="keyword">double</span> amount) {  <span class="comment">// Constructor!</span>
        <span class="keyword">this</span>.amount = amount;
    }
}

<span class="keyword">class</span> <span class="type">UPIPayment</span> <span class="keyword">extends</span> <span class="type">Payment</span> {
    <span class="keyword">public</span> UPIPayment(<span class="keyword">double</span> amount) {
        <span class="keyword">super</span>(amount);  <span class="comment">// Calls Payment's constructor!</span>
    }
}</code></pre>
                    <ul>
                        <li>Abstract class constructor is called via <code>super()</code> from child</li>
                        <li>It initializes the "parent part" of the child object</li>
                        <li>Cannot be called directly with <code>new Payment()</code></li>
                    </ul>
                </div>
            </div>

            <h3>Rule 5: Child MUST implement all abstract methods (or be abstract itself)</h3>
            <pre><code><span class="keyword">abstract class</span> <span class="type">Payment</span> {
    <span class="keyword">abstract void</span> process();
    <span class="keyword">abstract void</span> refund();
}

<span class="comment">// Option 1: Implement all abstract methods</span>
<span class="keyword">class</span> <span class="type">CreditCardPayment</span> <span class="keyword">extends</span> <span class="type">Payment</span> {
    <span class="keyword">void</span> process() { <span class="comment">/* implementation */</span> }
    <span class="keyword">void</span> refund() { <span class="comment">/* implementation */</span> }
}

<span class="comment">// Option 2: Be abstract and let subclass implement</span>
<span class="keyword">abstract class</span> <span class="type">CardPayment</span> <span class="keyword">extends</span> <span class="type">Payment</span> {
    <span class="keyword">void</span> process() { <span class="comment">/* implementation */</span> }
    <span class="comment">// refund() still abstract - subclass must implement</span>
}</code></pre>
        </div>

        <!-- Section 5: Abstract Class Use Cases -->
        <div class="section" id="s5">
            <h2>When to Use Abstract Classes?</h2>

            <div class="discuss">Abstract classes are perfect when you have shared code AND mandatory customization...</div>

            <h3>Real-World Example: Document Export System</h3>
            <pre><code><span class="keyword">abstract class</span> <span class="type">DocumentExporter</span> {
    <span class="keyword">protected</span> <span class="type">String</span> content;

    <span class="keyword">public</span> DocumentExporter(<span class="type">String</span> content) {
        <span class="keyword">this</span>.content = content;
    }

    <span class="comment">// Template method pattern - defines the skeleton</span>
    <span class="keyword">public final void</span> export(<span class="type">String</span> filename) {
        validate();           <span class="comment">// Concrete - same for all</span>
        <span class="type">String</span> formatted = format();  <span class="comment">// Abstract - differs per type</span>
        write(filename, formatted);   <span class="comment">// Concrete - same for all</span>
        log(filename);        <span class="comment">// Concrete - same for all</span>
    }

    <span class="keyword">private void</span> validate() {
        <span class="keyword">if</span> (content == <span class="keyword">null</span> || content.isEmpty()) {
            <span class="keyword">throw new</span> <span class="type">IllegalArgumentException</span>(<span class="string">"Empty content"</span>);
        }
    }

    <span class="comment">// Each exporter formats differently</span>
    <span class="keyword">protected abstract</span> <span class="type">String</span> format();

    <span class="keyword">private void</span> write(<span class="type">String</span> filename, <span class="type">String</span> data) {
        System.out.println(<span class="string">"Writing to "</span> + filename);
    }

    <span class="keyword">private void</span> log(<span class="type">String</span> filename) {
        System.out.println(<span class="string">"Exported: "</span> + filename);
    }
}

<span class="keyword">class</span> <span class="type">PDFExporter</span> <span class="keyword">extends</span> <span class="type">DocumentExporter</span> {
    <span class="keyword">public</span> PDFExporter(<span class="type">String</span> content) { <span class="keyword">super</span>(content); }

    <span class="annotation">@Override</span>
    <span class="keyword">protected</span> <span class="type">String</span> format() {
        <span class="keyword">return</span> <span class="string">"[PDF Header]"</span> + content + <span class="string">"[PDF Footer]"</span>;
    }
}

<span class="keyword">class</span> <span class="type">HTMLExporter</span> <span class="keyword">extends</span> <span class="type">DocumentExporter</span> {
    <span class="keyword">public</span> HTMLExporter(<span class="type">String</span> content) { <span class="keyword">super</span>(content); }

    <span class="annotation">@Override</span>
    <span class="keyword">protected</span> <span class="type">String</span> format() {
        <span class="keyword">return</span> <span class="string">"&lt;html&gt;&lt;body&gt;"</span> + content + <span class="string">"&lt;/body&gt;&lt;/html&gt;"</span>;
    }
}</code></pre>

            <div class="key-point">
                <strong>Template Method Pattern:</strong> Abstract class defines the algorithm skeleton, child classes fill in the specific steps.
            </div>

            <div class="hideable">
                <button class="hideable-btn" onclick="revealHideable(this)">When to Use Abstract Class vs Regular Class?</button>
                <div class="hideable-content">
                    <table>
                        <tr><th>Use Abstract Class When...</th><th>Use Regular Class When...</th></tr>
                        <tr><td>Object doesn't make sense without specialization</td><td>Object is complete and usable as-is</td></tr>
                        <tr><td>You need to force child to implement something</td><td>Child can use all inherited methods directly</td></tr>
                        <tr><td>Common code + mandatory customization</td><td>Just common code, optional customization</td></tr>
                        <tr><td>Example: Payment, Shape, Vehicle</td><td>Example: User, Product, Order</td></tr>
                    </table>
                </div>
            </div>
        </div>

        <!-- Section 6: Abstract Class Gotchas -->
        <div class="section" id="s6">
            <h2>Abstract Class: Interview Gotchas</h2>

            <div class="gotcha">
                <div class="gotcha-title">GOTCHA #1: Can abstract class have no abstract methods?</div>
                <pre><code><span class="keyword">abstract class</span> <span class="type">Helper</span> {
    <span class="keyword">void</span> doSomething() {
        System.out.println(<span class="string">"Doing something"</span>);
    }
    <span class="comment">// No abstract methods!</span>
}</code></pre>
                <button class="gotcha-reveal-btn" onclick="revealGotcha(this)">Show Answer</button>
                <div class="gotcha-answer">
                    <strong>Yes! This is valid.</strong>
                    <ul>
                        <li>Abstract class doesn't REQUIRE abstract methods</li>
                        <li>But if you have an abstract method, the class MUST be abstract</li>
                        <li>Use case: Prevent instantiation even though all methods are implemented</li>
                    </ul>
                </div>
            </div>

            <div class="gotcha">
                <div class="gotcha-title">GOTCHA #2: Can abstract method be private?</div>
                <pre><code><span class="keyword">abstract class</span> <span class="type">Payment</span> {
    <span class="keyword">private abstract void</span> process();  <span class="comment">// ???</span>
}</code></pre>
                <button class="gotcha-reveal-btn" onclick="revealGotcha(this)">Show Answer</button>
                <div class="gotcha-answer">
                    <strong>No! Compilation error.</strong>
                    <ul>
                        <li>Abstract methods MUST be overridden by child class</li>
                        <li>Private methods are NOT visible to child class</li>
                        <li>Therefore, abstract + private is contradictory</li>
                    </ul>
                </div>
            </div>

            <div class="gotcha">
                <div class="gotcha-title">GOTCHA #3: Can abstract method be static?</div>
                <pre><code><span class="keyword">abstract class</span> <span class="type">Payment</span> {
    <span class="keyword">static abstract void</span> process();  <span class="comment">// ???</span>
}</code></pre>
                <button class="gotcha-reveal-btn" onclick="revealGotcha(this)">Show Answer</button>
                <div class="gotcha-answer">
                    <strong>No! Compilation error.</strong>
                    <ul>
                        <li>Static methods belong to the <strong>class</strong>, not instances</li>
                        <li>Abstract methods need to be overridden (runtime polymorphism)</li>
                        <li>Static methods are resolved at <strong>compile time</strong> - no overriding!</li>
                    </ul>
                    <div style="margin-top: 12px; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 5px;">
                        <strong style="color: #ffd93d;">Method Hiding vs Overriding:</strong>
                        <p style="margin: 8px 0;">Static methods in child class <em>hide</em> (not override) parent's static method:</p>
                        <pre style="margin: 8px 0; font-size: 0.85em;"><code><span class="keyword">class</span> <span class="type">Parent</span> {
    <span class="keyword">static void</span> greet() { System.out.println(<span class="string">"Parent"</span>); }
}
<span class="keyword">class</span> <span class="type">Child</span> <span class="keyword">extends</span> <span class="type">Parent</span> {
    <span class="keyword">static void</span> greet() { System.out.println(<span class="string">"Child"</span>); }
}

<span class="type">Parent</span> p = <span class="keyword">new</span> <span class="type">Child</span>();
p.greet();  <span class="comment">// Prints "Parent"! (reference type decides)</span>

<span class="comment">// Compare with instance method (true overriding):</span>
<span class="comment">// p.instanceMethod() would print Child's version</span></code></pre>
                        <ul style="margin-top: 8px;">
                            <li><strong>Overriding (instance methods):</strong> Runtime - actual object type decides</li>
                            <li><strong>Hiding (static methods):</strong> Compile time - reference type decides</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="gotcha">
                <div class="gotcha-title">GOTCHA #4: Can abstract method be final?</div>
                <pre><code><span class="keyword">abstract class</span> <span class="type">Payment</span> {
    <span class="keyword">final abstract void</span> process();  <span class="comment">// ???</span>
}</code></pre>
                <button class="gotcha-reveal-btn" onclick="revealGotcha(this)">Show Answer</button>
                <div class="gotcha-answer">
                    <strong>No! Compilation error.</strong>
                    <ul>
                        <li><strong>Abstract</strong> = MUST be overridden</li>
                        <li><strong>Final</strong> = CANNOT be overridden</li>
                        <li>Direct contradiction!</li>
                    </ul>
                    <div style="margin-top: 12px; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 5px;">
                        <strong style="color: #ffd93d;">The <code>final</code> Keyword - 3 Uses:</strong>
                        <table style="margin-top: 8px; font-size: 0.9em;">
                            <tr><th>Applied To</th><th>Effect</th></tr>
                            <tr><td><code>final</code> variable</td><td>Cannot be reassigned (constant)</td></tr>
                            <tr><td><code>final</code> method</td><td>Cannot be overridden by subclass</td></tr>
                            <tr><td><code>final</code> class</td><td>Cannot be extended (no subclasses)</td></tr>
                        </table>
                        <pre style="margin: 10px 0; font-size: 0.85em;"><code><span class="comment">// Final variable - constant</span>
<span class="keyword">final int</span> MAX_SIZE = 100;
MAX_SIZE = 200;  <span class="comment">// ERROR! Cannot reassign</span>

<span class="comment">// Final method - cannot override</span>
<span class="keyword">class</span> <span class="type">Parent</span> {
    <span class="keyword">final void</span> critical() { <span class="comment">/* ... */</span> }
}
<span class="keyword">class</span> <span class="type">Child</span> <span class="keyword">extends</span> <span class="type">Parent</span> {
    <span class="keyword">void</span> critical() { }  <span class="comment">// ERROR! Cannot override final</span>
}

<span class="comment">// Final class - cannot extend</span>
<span class="keyword">final class</span> <span class="type">String</span> { }  <span class="comment">// Java's String is final!</span>
<span class="keyword">class</span> <span class="type">MyString</span> <span class="keyword">extends</span> <span class="type">String</span> { }  <span class="comment">// ERROR!</span></code></pre>
                        <p style="margin-top: 8px;"><strong>Why use final?</strong> Security, immutability, and preventing unintended behavior changes in critical code.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="topic-divider"></div>

        <!-- ==================== INTERFACES ==================== -->

        <!-- Section 7: Why Interfaces? -->
        <div class="section" id="s7">
            <h2>Part 2: Interfaces</h2>
            <h3>A Problem with Multiple Inheritance</h3>
            <div class="discuss">You're building a notification system...</div>

            <pre><code><span class="keyword">class</span> <span class="type">Notifier</span> {
    <span class="keyword">void</span> send(<span class="type">String</span> msg) { System.out.println(<span class="string">"Sending: "</span> + msg); }
}

<span class="keyword">class</span> <span class="type">EmailNotifier</span> <span class="keyword">extends</span> <span class="type">Notifier</span> {
    <span class="keyword">void</span> send(<span class="type">String</span> msg) { System.out.println(<span class="string">"Email: "</span> + msg); }
}

<span class="keyword">class</span> <span class="type">SMSNotifier</span> <span class="keyword">extends</span> <span class="type">Notifier</span> {
    <span class="keyword">void</span> send(<span class="type">String</span> msg) { System.out.println(<span class="string">"SMS: "</span> + msg); }
}

<span class="keyword">class</span> <span class="type">MultiChannelNotifier</span> <span class="keyword">extends</span> <span class="type">EmailNotifier</span>, <span class="type">SMSNotifier</span> { }

<span class="type">MultiChannelNotifier</span> notifier = <span class="keyword">new</span> <span class="type">MultiChannelNotifier</span>();
notifier.send(<span class="string">"Hello!"</span>);</code></pre>

            <div class="quiz">
                <div class="quiz-q">What happens when <code>notifier.send("Hello!")</code> is called?</div>
                <div class="quiz-options">
                    <label><input type="radio" name="qDiamond" value="a" onclick="checkQuiz(this, false)"> EmailNotifier's send() is called</label>
                    <label><input type="radio" name="qDiamond" value="b" onclick="checkQuiz(this, false)"> SMSNotifier's send() is called</label>
                    <label><input type="radio" name="qDiamond" value="c" onclick="checkQuiz(this, false)"> Both send() methods are called</label>
                    <label><input type="radio" name="qDiamond" value="d" onclick="checkQuiz(this, true)"> Compilation error - this code won't compile</label>
                </div>
                <div class="quiz-answer"></div>
            </div>

            <div class="hideable">
                <button class="hideable-btn" onclick="revealHideable(this)">Why doesn't this compile?</button>
                <div class="hideable-content" style="background: #1e1e1e; border-color: #ff6b6b; color: #e0e0e0;">
                    <strong style="color: #ff6b6b;">The Diamond Problem:</strong>
                    <pre style="margin: 10px 0; text-align: center; background: transparent; border: none;"><code style="color: #8be9fd;">
         Notifier
          /    \
         /      \
  EmailNotifier  SMSNotifier
         \      /
          \    /
    MultiChannelNotifier
</code></pre>
                    <p style="margin: 10px 0; color: #e0e0e0;">If <code>MultiChannelNotifier</code> could extend both:</p>
                    <ul style="color: #e0e0e0;">
                        <li>Both EmailNotifier and SMSNotifier override <code>send()</code></li>
                        <li>When we call <code>notifier.send()</code> â€” which version runs?</li>
                        <li><strong style="color: #ff6b6b;">Ambiguous!</strong> Java prevents this by banning multiple class inheritance</li>
                    </ul>

                    <div style="margin-top: 15px; padding: 10px; background: #2d2d2d; border-radius: 5px; border-left: 3px solid #ffd93d;">
                        <strong style="color: #ffd93d;">Trivia: How Other Languages Handle This</strong>
                        <table style="margin-top: 8px; font-size: 0.9em; color: #e0e0e0;">
                            <tr><th style="color: #ffd93d;">Language</th><th style="color: #ffd93d;">Approach</th></tr>
                            <tr>
                                <td><strong style="color: #8be9fd;">C++</strong></td>
                                <td>Allows it! Uses <code>virtual</code> inheritance and scope resolution (<code>EmailNotifier::send()</code>). Developer's responsibility.</td>
                            </tr>
                            <tr>
                                <td><strong style="color: #8be9fd;">Python</strong></td>
                                <td>Allows it! Uses <strong>MRO</strong> (Method Resolution Order) â€” C3 linearization algorithm.</td>
                            </tr>
                            <tr>
                                <td><strong style="color: #8be9fd;">Java</strong></td>
                                <td>Bans it! Uses <strong>Interfaces</strong> instead.</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 8: Power of Parent References -->
        <div class="section" id="s8">
            <h2>The Power of Parent References</h2>
            <div class="discuss">Before we solve the diamond problem, let's revisit parent references...</div>

            <pre><code><span class="comment">// Remember from Abstract Classes?</span>
<span class="type">Payment</span> p = <span class="keyword">new</span> <span class="type">CreditCardPayment</span>();
p.process();

<span class="comment">// Parent reference on LEFT, child object on RIGHT</span>
<span class="comment">// This lets us swap implementations easily!</span></code></pre>

            <h3>Same Pattern with Collections</h3>
            <pre><code><span class="comment">// List on LEFT, ArrayList on RIGHT</span>
<span class="type">List</span> names = <span class="keyword">new</span> <span class="type">ArrayList</span>();
names.add(<span class="string">"Alice"</span>);
names.add(<span class="string">"Bob"</span>);

<span class="comment">// Want LinkedList? Just change the RIGHT side!</span>
<span class="type">List</span> names = <span class="keyword">new</span> <span class="type">LinkedList</span>();
<span class="comment">// All other code stays the same!</span></code></pre>

            <div class="key-point">
                <strong>Pattern:</strong> <code>ParentType variable = new ChildType();</code><br>
                This makes your code flexible and easy to change!
            </div>

            <div class="quiz">
                <div class="quiz-q">Is <code>List</code> a parent class of <code>ArrayList</code>?</div>
                <div class="quiz-options">
                    <label><input type="radio" name="qList" value="a" onclick="checkQuiz(this, false)"> Yes, List is an abstract class</label>
                    <label><input type="radio" name="qList" value="b" onclick="checkQuiz(this, false)"> Yes, List is a regular class</label>
                    <label><input type="radio" name="qList" value="c" onclick="checkQuiz(this, true)"> No, List is something else...</label>
                </div>
                <div class="quiz-answer"></div>
            </div>

            <div class="discuss" style="margin-top: 15px;">
                <strong>Think about it:</strong> If List were a class, what attributes would it share with ArrayList and LinkedList?<br><br>
                ArrayList uses an <strong>array</strong> internally.<br>
                LinkedList uses <strong>nodes with pointers</strong> internally.<br><br>
                They have NOTHING in common except the <strong>methods</strong> they provide (add, get, remove...)
            </div>
        </div>

        <!-- Section 9: What is an Interface -->
        <div class="section" id="s9">
            <h2>Enter: The Interface</h2>
            <div class="discuss">We need something that defines ONLY methods, no attributes, no implementation...</div>

            <h3>Two Problems, One Solution</h3>
            <table>
                <tr><th>Problem</th><th>What we need</th></tr>
                <tr>
                    <td>Diamond Problem</td>
                    <td>A way to have multiple "parent contracts" without inheriting code</td>
                </tr>
                <tr>
                    <td>List/ArrayList/LinkedList</td>
                    <td>A parent type that only defines methods, no shared attributes</td>
                </tr>
            </table>

            <div class="key-point" style="margin-top: 15px;">
                <strong>Solution:</strong> An <span class="highlight">Interface</span> â€” a pure contract with only method signatures, no code!
            </div>

            <pre><code><span class="comment">// Interface = ONLY method signatures</span>
<span class="keyword">interface</span> <span class="type">List</span> {
    <span class="keyword">void</span> add(<span class="type">Object</span> item);
    <span class="type">Object</span> get(<span class="keyword">int</span> index);
    <span class="keyword">int</span> size();
    <span class="comment">// No attributes! No method bodies!</span>
}

<span class="comment">// Classes "implement" (not extend!) the interface</span>
<span class="keyword">class</span> <span class="type">ArrayList</span> <span class="keyword">implements</span> <span class="type">List</span> {
    <span class="keyword">private</span> <span class="type">Object</span>[] array;  <span class="comment">// Its OWN attribute</span>
    <span class="keyword">public void</span> add(<span class="type">Object</span> item) { <span class="comment">/* array logic */</span> }
    <span class="keyword">public</span> <span class="type">Object</span> get(<span class="keyword">int</span> i) { <span class="keyword">return</span> array[i]; }
    <span class="keyword">public int</span> size() { <span class="comment">/* ... */</span> }
}

<span class="keyword">class</span> <span class="type">LinkedList</span> <span class="keyword">implements</span> <span class="type">List</span> {
    <span class="keyword">private</span> <span class="type">Node</span> head;  <span class="comment">// Its OWN attribute</span>
    <span class="keyword">public void</span> add(<span class="type">Object</span> item) { <span class="comment">/* node logic */</span> }
    <span class="keyword">public</span> <span class="type">Object</span> get(<span class="keyword">int</span> i) { <span class="comment">/* traverse nodes */</span> }
    <span class="keyword">public int</span> size() { <span class="comment">/* ... */</span> }
}</code></pre>

            <div class="key-point">
                <strong>Interface</strong> = A contract that defines WHAT methods a class must have.<br>
                <strong>implements</strong> = The keyword used (not <code>extends</code>!)
            </div>
        </div>

        <!-- Section 10: How Interfaces Solve the Diamond Problem -->
        <div class="section" id="s10">
            <h2>Interfaces Solve the Diamond Problem!</h2>

            <div class="discuss">Remember the Notifier problem? Let's solve it with interfaces...</div>

            <pre><code><span class="comment">// Instead of CLASS, make Notifier an INTERFACE</span>
<span class="keyword">interface</span> <span class="type">Notifier</span> {
    <span class="keyword">void</span> send(<span class="type">String</span> msg);  <span class="comment">// No code here!</span>
}

<span class="keyword">class</span> <span class="type">EmailNotifier</span> <span class="keyword">implements</span> <span class="type">Notifier</span> {
    <span class="keyword">public void</span> send(<span class="type">String</span> msg) {
        System.out.println(<span class="string">"Email: "</span> + msg);
    }
}

<span class="keyword">class</span> <span class="type">SMSNotifier</span> <span class="keyword">implements</span> <span class="type">Notifier</span> {
    <span class="keyword">public void</span> send(<span class="type">String</span> msg) {
        System.out.println(<span class="string">"SMS: "</span> + msg);
    }
}</code></pre>

            <h3>Use Interface as Type (Same Pattern!)</h3>
            <pre><code><span class="comment">// Interface on LEFT, implementation on RIGHT</span>
<span class="type">Notifier</span> n = <span class="keyword">new</span> <span class="type">EmailNotifier</span>();
n.send(<span class="string">"Hello"</span>);  <span class="comment">// Email: Hello</span>

<span class="comment">// Switch implementation easily!</span>
<span class="type">Notifier</span> n = <span class="keyword">new</span> <span class="type">SMSNotifier</span>();
n.send(<span class="string">"Hello"</span>);  <span class="comment">// SMS: Hello</span></code></pre>

            <div class="quiz">
                <div class="quiz-q">Why doesn't this cause the Diamond Problem?</div>
                <div class="quiz-options">
                    <label><input type="radio" name="qWhyInterface" value="a" onclick="checkQuiz(this, false)"> Interfaces have special compiler handling</label>
                    <label><input type="radio" name="qWhyInterface" value="b" onclick="checkQuiz(this, true)"> Interfaces have no code â€” there's nothing to inherit!</label>
                    <label><input type="radio" name="qWhyInterface" value="c" onclick="checkQuiz(this, false)"> Java picks the first interface automatically</label>
                </div>
                <div class="quiz-answer"></div>
            </div>

            <div class="key-point">
                <strong>Key:</strong> No conflicting code to inherit = No diamond problem!
            </div>
        </div>

        <!-- Section 11: Multiple Interface Implementation -->
        <div class="section" id="s11">
            <h2>Multiple Interface Implementation</h2>

            <div class="discuss">Unlike classes, a class can implement MULTIPLE interfaces!</div>

            <pre><code><span class="keyword">interface</span> <span class="type">Readable</span> {
    <span class="keyword">void</span> read();
}

<span class="keyword">interface</span> <span class="type">Writable</span> {
    <span class="keyword">void</span> write();
}

<span class="comment">// File can do BOTH!</span>
<span class="keyword">class</span> <span class="type">File</span> <span class="keyword">implements</span> <span class="type">Readable</span>, <span class="type">Writable</span> {
    <span class="keyword">public void</span> read() { System.out.println(<span class="string">"Reading file"</span>); }
    <span class="keyword">public void</span> write() { System.out.println(<span class="string">"Writing file"</span>); }
}

<span class="comment">// Log can only be written</span>
<span class="keyword">class</span> <span class="type">Log</span> <span class="keyword">implements</span> <span class="type">Writable</span> {
    <span class="keyword">public void</span> write() { System.out.println(<span class="string">"Writing log"</span>); }
}</code></pre>

            <div class="key-point">
                <strong>Key:</strong> A class can have multiple "capabilities" by implementing multiple interfaces!
            </div>

            <div class="quiz">
                <div class="quiz-q">Why doesn't this cause the Diamond Problem?</div>
                <div class="quiz-options">
                    <label><input type="radio" name="q5" value="a" onclick="checkQuiz(this, false)"> Java has special handling for interfaces</label>
                    <label><input type="radio" name="q5" value="b" onclick="checkQuiz(this, true)"> Interfaces have no code â€” File provides the only implementation</label>
                    <label><input type="radio" name="q5" value="c" onclick="checkQuiz(this, false)"> Interface methods are resolved at compile time</label>
                </div>
                <div class="quiz-answer"></div>
            </div>
        </div>

        <!-- Section 13: Java 8+ Changes to Interfaces -->
        <div class="section" id="s13">
            <h2>Java 8+: Interfaces Got New Powers!</h2>
            <div class="discuss">Java 8 changed interfaces significantly. Click each row to see what changed...</div>

            <table id="java8-table">
                <tr><th>Feature</th><th>Before Java 8</th><th>After Java 8</th></tr>
                <tr class="clickable-row" onclick="revealRow(this)">
                    <td>Method bodies</td>
                    <td class="hidden-cell" data-value="âŒ Not allowed"></td>
                    <td class="hidden-cell" data-value="âœ… default methods can have code"></td>
                </tr>
                <tr class="clickable-row" onclick="revealRow(this)">
                    <td>Static methods</td>
                    <td class="hidden-cell" data-value="âŒ Not allowed"></td>
                    <td class="hidden-cell" data-value="âœ… Allowed"></td>
                </tr>
                <tr class="clickable-row" onclick="revealRow(this)">
                    <td>Attributes</td>
                    <td class="hidden-cell" data-value="Only constants"></td>
                    <td class="hidden-cell" data-value="Still only constants (no change)"></td>
                </tr>
                <tr class="clickable-row" onclick="revealRow(this)">
                    <td>Constructors</td>
                    <td class="hidden-cell" data-value="âŒ Not allowed"></td>
                    <td class="hidden-cell" data-value="âŒ Still not allowed"></td>
                </tr>
            </table>
            <button class="table-reset-btn" onclick="resetTable('java8-table')">Reset Table</button>

            <h3>Default Methods</h3>
            <pre><code><span class="keyword">interface</span> <span class="type">Logger</span> {
    <span class="keyword">void</span> log(<span class="type">String</span> msg);  <span class="comment">// Abstract - must implement</span>

    <span class="comment">// Default method - has code!</span>
    <span class="keyword">default void</span> logError(<span class="type">String</span> msg) {
        log(<span class="string">"ERROR: "</span> + msg);
    }
}

<span class="keyword">class</span> <span class="type">FileLogger</span> <span class="keyword">implements</span> <span class="type">Logger</span> {
    <span class="keyword">public void</span> log(<span class="type">String</span> msg) { System.out.println(msg); }
    <span class="comment">// Gets logError() for free!</span>
}</code></pre>

            <h3>Static Methods</h3>
            <pre><code><span class="keyword">interface</span> <span class="type">StringUtils</span> {
    <span class="keyword">static boolean</span> isEmpty(<span class="type">String</span> s) {
        <span class="keyword">return</span> s == <span class="keyword">null</span> || s.length() == 0;
    }
}

<span class="comment">// Call on interface name</span>
<span class="type">StringUtils</span>.isEmpty(<span class="string">""</span>);  <span class="comment">// true</span></code></pre>

            <div class="gotcha">
                <div class="gotcha-title">GOTCHA: Default Method Collision</div>
                <pre><code><span class="keyword">interface</span> <span class="type">A</span> { <span class="keyword">default void</span> greet() { } }
<span class="keyword">interface</span> <span class="type">B</span> { <span class="keyword">default void</span> greet() { } }
<span class="keyword">class</span> <span class="type">C</span> <span class="keyword">implements</span> <span class="type">A</span>, <span class="type">B</span> { }  <span class="comment">// ???</span></code></pre>
                <button class="gotcha-reveal-btn" onclick="revealGotcha(this)">Show Answer</button>
                <div class="gotcha-answer">
                    <strong>Compilation Error!</strong> Must override to resolve ambiguity.
                </div>
            </div>
        </div>

        <!-- Section 12: Abstract Class vs Interface (Pre-Java 8) -->
        <div class="section" id="s12">
            <h2>Abstract Class vs Interface (Pre-Java 8)</h2>
            <div class="discuss">Click each row to reveal the comparison...</div>

            <table id="comparison-table">
                <tr><th>Feature</th><th>Abstract Class</th><th>Interface</th></tr>
                <tr class="clickable-row" onclick="revealRow(this)">
                    <td>Methods</td>
                    <td class="hidden-cell" data-value="Abstract + Concrete"></td>
                    <td class="hidden-cell" data-value="Only Abstract (no body)"></td>
                </tr>
                <tr class="clickable-row" onclick="revealRow(this)">
                    <td>Attributes</td>
                    <td class="hidden-cell" data-value="Yes (any type)"></td>
                    <td class="hidden-cell" data-value="Only constants (public static final)"></td>
                </tr>
                <tr class="clickable-row" onclick="revealRow(this)">
                    <td>Constructors</td>
                    <td class="hidden-cell" data-value="Yes"></td>
                    <td class="hidden-cell" data-value="No"></td>
                </tr>
                <tr class="clickable-row" onclick="revealRow(this)">
                    <td>Multiple inheritance</td>
                    <td class="hidden-cell" data-value="No (single extends)"></td>
                    <td class="hidden-cell" data-value="Yes (multiple implements)"></td>
                </tr>
                <tr class="clickable-row" onclick="revealRow(this)">
                    <td>Access modifiers</td>
                    <td class="hidden-cell" data-value="Any (public, private, protected)"></td>
                    <td class="hidden-cell" data-value="public only"></td>
                </tr>
                <tr class="clickable-row" onclick="revealRow(this)">
                    <td>Keyword</td>
                    <td class="hidden-cell" data-value="extends"></td>
                    <td class="hidden-cell" data-value="implements"></td>
                </tr>
            </table>
            <button class="table-reset-btn" onclick="resetTable('comparison-table')">Reset Table</button>

            <div class="key-point" style="margin-top: 20px;">
                <strong>When to use what?</strong><br>
                <strong>Abstract Class:</strong> IS-A relationship + shared code + shared attributes<br>
                <strong>Interface:</strong> CAN-DO capability + pure contract + multiple inheritance
            </div>

            <div class="quiz">
                <div class="quiz-q">MySQLDatabase needs to extend Database AND be Closeable. What do you use?</div>
                <div class="quiz-options">
                    <label><input type="radio" name="q6" value="a" onclick="checkQuiz(this, false)"> Two abstract classes</label>
                    <label><input type="radio" name="q6" value="b" onclick="checkQuiz(this, true)"> Abstract class Database + Interface Closeable</label>
                    <label><input type="radio" name="q6" value="c" onclick="checkQuiz(this, false)"> Two interfaces</label>
                </div>
                <div class="quiz-answer"></div>
            </div>

            <div class="hideable">
                <button class="hideable-btn" onclick="revealHideable(this)">Show Solution</button>
                <div class="hideable-content" style="background: var(--bg-code); border-color: #00d4ff; padding: 0;">
                    <pre style="margin: 0; border: none;"><code><span class="keyword">abstract class</span> <span class="type">Database</span> {
    <span class="keyword">abstract void</span> connect();
}

<span class="comment">// extends ONE class, implements ONE interface</span>
<span class="keyword">class</span> <span class="type">MySQLDatabase</span> <span class="keyword">extends</span> <span class="type">Database</span> <span class="keyword">implements</span> <span class="type">Closeable</span> {
    <span class="keyword">void</span> connect() { System.out.println(<span class="string">"Connected"</span>); }
    <span class="keyword">public void</span> close() { System.out.println(<span class="string">"Closed"</span>); }
}</code></pre>
                </div>
            </div>
        </div>

        <!-- Section 14: Interface Inheritance -->
        <div class="section" id="s14">
            <h2>Interface Inheritance</h2>

            <div class="discuss">Interfaces can extend other interfaces!</div>

            <pre><code><span class="keyword">interface</span> <span class="type">Readable</span> {
    <span class="keyword">void</span> read();
}

<span class="keyword">interface</span> <span class="type">Writable</span> {
    <span class="keyword">void</span> write();
}

<span class="comment">// Interface extends multiple interfaces!</span>
<span class="keyword">interface</span> <span class="type">ReadWritable</span> <span class="keyword">extends</span> <span class="type">Readable</span>, <span class="type">Writable</span> { }

<span class="comment">// Must implement ALL methods</span>
<span class="keyword">class</span> <span class="type">DataFile</span> <span class="keyword">implements</span> <span class="type">ReadWritable</span> {
    <span class="keyword">public void</span> read() { System.out.println(<span class="string">"Reading"</span>); }
    <span class="keyword">public void</span> write() { System.out.println(<span class="string">"Writing"</span>); }
}</code></pre>

            <div class="quiz">
                <div class="quiz-q">What keyword does an interface use to inherit from another interface?</div>
                <div class="quiz-options">
                    <label><input type="radio" name="q7" value="a" onclick="checkQuiz(this, false)"> implements</label>
                    <label><input type="radio" name="q7" value="b" onclick="checkQuiz(this, true)"> extends</label>
                    <label><input type="radio" name="q7" value="c" onclick="checkQuiz(this, false)"> inherits</label>
                </div>
                <div class="quiz-answer"></div>
            </div>

            <div class="key-point">
                <strong>Remember:</strong><br>
                Class <code>extends</code> Class<br>
                Class <code>implements</code> Interface<br>
                Interface <code>extends</code> Interface
            </div>
        </div>

        <!-- Section 15: Marker & Functional Interfaces -->
        <div class="section" id="s15">
            <h2>Special Interface Types</h2>

            <h3>Marker Interfaces</h3>
            <div class="discuss">An interface with NO methods - just a "marker" or "tag"</div>

            <pre><code><span class="comment">// Built-in marker interfaces in Java</span>
<span class="keyword">interface</span> <span class="type">Serializable</span> { }  <span class="comment">// Marks class as serializable</span>
<span class="keyword">interface</span> <span class="type">Cloneable</span> { }     <span class="comment">// Marks class as cloneable</span>

<span class="comment">// Custom marker interface</span>
<span class="keyword">interface</span> <span class="type">Deletable</span> { }

<span class="keyword">class</span> <span class="type">TempFile</span> <span class="keyword">implements</span> <span class="type">Deletable</span> { }

<span class="comment">// Usage - check if object has the "badge"</span>
<span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="type">Deletable</span>) {
    <span class="comment">// Safe to delete</span>
}</code></pre>

            <h3>Functional Interfaces (Java 8+)</h3>
            <div class="discuss">An interface with exactly ONE abstract method</div>

            <pre><code><span class="annotation">@FunctionalInterface</span>
<span class="keyword">interface</span> <span class="type">Calculator</span> {
    <span class="keyword">int</span> calculate(<span class="keyword">int</span> a, <span class="keyword">int</span> b);
}

<span class="comment">// Can use lambda (short syntax)!</span>
<span class="type">Calculator</span> add = (a, b) -> a + b;
<span class="type">Calculator</span> multiply = (a, b) -> a * b;

System.out.println(add.calculate(5, 3));       <span class="comment">// 8</span>
System.out.println(multiply.calculate(5, 3));  <span class="comment">// 15</span></code></pre>

            <div class="key-point">
                <strong>Why useful?</strong> Enables concise lambda syntax for passing behavior as a parameter!
            </div>
        </div>

        <!-- Section 16: Summary -->
        <div class="section" id="s16">
            <h2>Summary: Key Takeaways</h2>

            <h3>Abstract Classes</h3>
            <div class="key-point">
                <ul>
                    <li>Cannot be instantiated directly</li>
                    <li>Can have abstract methods (no body) AND concrete methods</li>
                    <li>Can have constructors, instance variables, any access modifier</li>
                    <li>Use for IS-A + shared code + forced implementation</li>
                </ul>
            </div>

            <h3>Interfaces</h3>
            <div class="key-point">
                <ul>
                    <li>Pure contract - defines WHAT, not HOW</li>
                    <li>All methods implicitly public abstract (unless default/static)</li>
                    <li>All fields implicitly public static final</li>
                    <li>Multiple implementation allowed - solves diamond problem</li>
                    <li>Use for CAN-DO capabilities and multiple inheritance</li>
                </ul>
            </div>

            <h3>Quick Decision Guide</h3>
            <table>
                <tr><th>Scenario</th><th>Use</th></tr>
                <tr><td>Shared code + some methods must be implemented by child</td><td>Abstract Class</td></tr>
                <tr><td>Define a capability/contract that many unrelated classes can have</td><td>Interface</td></tr>
                <tr><td>Need multiple inheritance of behavior</td><td>Interface</td></tr>
            </table>
        </div>

    </div>

    <div class="nav">
        <button onclick="showAll()">Show All</button>
        <button onclick="reset()">Reset</button>
        <button onclick="prev()">â† Prev</button>
        <button onclick="next()">Next â†’</button>
    </div>

    <script>
        let currentSection = 1;
        const totalSections = 16;

        function updateProgress() {
            const progress = (currentSection / totalSections) * 100;
            document.getElementById('progress').style.width = progress + '%';
        }

        function showSection(n, updateUrl = true) {
            if (n >= 1 && n <= totalSections) {
                currentSection = n;
                const sections = document.querySelectorAll('.section');
                sections.forEach((s, i) => {
                    if (i < n) s.classList.add('visible');
                    else s.classList.remove('visible');
                });
                updateProgress();
                if (updateUrl) {
                    history.pushState(null, '', '#s' + n);
                }
            }
        }

        function next() {
            showSection(currentSection + 1);
        }

        function prev() {
            showSection(currentSection - 1);
        }

        // Handle browser back/forward
        window.addEventListener('popstate', () => {
            const hash = window.location.hash;
            if (hash && hash.startsWith('#s')) {
                const sectionNum = parseInt(hash.substring(2));
                if (sectionNum >= 1 && sectionNum <= totalSections) {
                    showSection(sectionNum, false);
                }
            }
        });

        // Load section from URL hash on page load
        function loadFromHash() {
            const hash = window.location.hash;
            if (hash && hash.startsWith('#s')) {
                const sectionNum = parseInt(hash.substring(2));
                if (sectionNum >= 1 && sectionNum <= totalSections) {
                    showSection(sectionNum, false);
                    return;
                }
            }
            // Default to section 1 if no valid hash
            showSection(1, false);
        }

        function showAll() {
            document.querySelectorAll('.section').forEach(s => s.classList.add('visible'));
            document.getElementById('progress').style.width = '100%';
        }

        function reset() {
            document.querySelectorAll('.section').forEach((s, i) => {
                s.classList.toggle('visible', i === 0);
            });
            currentSection = 1;
            updateProgress();
            history.pushState(null, '', '#s1');
            // Reset all quizzes
            document.querySelectorAll('.quiz-answer').forEach(a => {
                a.style.display = 'none';
                a.className = 'quiz-answer';
            });
            document.querySelectorAll('input[type="radio"]').forEach(r => r.checked = false);
            // Reset all gotchas
            document.querySelectorAll('.gotcha-answer').forEach(a => a.classList.remove('revealed'));
            document.querySelectorAll('.gotcha-reveal-btn').forEach(b => {
                b.classList.remove('revealed');
                b.textContent = 'Show Answer';
            });
            // Reset all hideables
            document.querySelectorAll('.hideable-content').forEach(c => c.classList.remove('revealed'));
            document.querySelectorAll('.hideable-btn').forEach(b => b.classList.remove('revealed'));
            // Reset tables
            document.querySelectorAll('.hidden-cell').forEach(c => {
                c.classList.remove('revealed', 'yes', 'no');
                c.textContent = '';
            });
            document.querySelectorAll('.clickable-row').forEach(r => r.classList.remove('revealed'));
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function checkQuiz(input, isCorrect) {
            const quiz = input.closest('.quiz');
            const answer = quiz.querySelector('.quiz-answer');
            answer.style.display = 'block';
            if (isCorrect) {
                answer.className = 'quiz-answer correct';
                answer.textContent = 'âœ“ Correct!';
            } else {
                answer.className = 'quiz-answer incorrect';
                answer.textContent = 'âœ— Try again!';
            }
        }

        function revealGotcha(btn) {
            const gotcha = btn.closest('.gotcha');
            const answer = gotcha.querySelector('.gotcha-answer');
            const isRevealed = answer.classList.contains('revealed');

            if (isRevealed) {
                answer.classList.remove('revealed');
                btn.classList.remove('revealed');
                btn.textContent = 'Show Answer';
            } else {
                answer.classList.add('revealed');
                btn.classList.add('revealed');
                btn.textContent = 'Hide Answer';
            }
        }

        function revealHideable(btn) {
            const hideable = btn.closest('.hideable');
            const content = hideable.querySelector('.hideable-content');
            content.classList.add('revealed');
            btn.classList.add('revealed');
        }

        function revealRow(row) {
            if (row.classList.contains('revealed')) return;
            row.classList.add('revealed');
            row.querySelectorAll('.hidden-cell').forEach(cell => {
                const value = cell.dataset.value;
                cell.classList.add('revealed');
                cell.textContent = value;
                if (value === 'Yes') cell.classList.add('yes');
                else if (value === 'No') cell.classList.add('no');
            });
        }

        function resetTable(tableId) {
            const table = document.getElementById(tableId);
            table.querySelectorAll('.hidden-cell').forEach(cell => {
                cell.classList.remove('revealed', 'yes', 'no');
                cell.textContent = '';
            });
            table.querySelectorAll('.clickable-row').forEach(row => {
                row.classList.remove('revealed');
            });
        }

        function toggleTheme() {
            document.body.classList.toggle('light-theme');
            // Save preference
            localStorage.setItem('theme', document.body.classList.contains('light-theme') ? 'light' : 'dark');
        }

        // Load saved theme preference
        (function() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.remove('light-theme');
            } else {
                document.body.classList.add('light-theme');
            }
        })();

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                next();
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                prev();
            }
        });

        // Initialize - load section from URL hash or default to section 1
        loadFromHash();
    </script>
</body>
</html>
